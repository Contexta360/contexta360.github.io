/*! For license information please see 357.min.c2d9331a4cffa9a2ea1f.js.LICENSE.txt */
/*!
 * Core v1.3.0-alpha (https://contexta360.com/)
 * Copyright (c) 2020-2021 Contexta B.V.
 * @license ISC (Last change on: 24/09/2021 15:16:49)
 *
 * Frontend developed by kuus <kunderikuus@gmail.com> (https://kuus.github.io)
 */
(self.webpackChunk_contexta360_core=self.webpackChunk_contexta360_core||[]).push([[357],{12357:(e,n,t)=>{"use strict";t.r(n),t.d(n,{ToPdf:()=>g});var r=t(56470),o=t(77162),i=t.n(o),a=t(25176),c=t.n(a),d=t(73856);var u={37:1,38:1,39:1,40:1},s=function(e){e.preventDefault()},l=function(e){if(u[e.keyCode])return s(e),!1},p=!1;try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){p=!0}}))}catch(e){}var h=!!p&&{passive:!1},w="onwheel"in document.createElement("div")?"wheel":"mousewheel",f=t(75061),v=t(35958),g=function(e,n){e.headline;var t=e.filename,o=1920,a=297,u=211,p=15,g=["appheader","breadcrumbs","panel-sticky-top","topdf-btn"],m=["body","panel-grid"],y=function(){var e=(0,r.Z)(i().mark((function e(n){var t,r,a,d,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d=document.querySelector(".panelBody"),n&&(d.style.display="none",r=n.parentNode,a=n.previousElementSibling,t=document.body.appendChild(n)),n=n||document.body,S(),e.next=6,k(n);case 6:return e.next=8,c()(document.body,{scale:1,useCORS:!0,allowTaint:!0,foreignObjectRendering:!0,windowWidth:o,windowHeight:860,logging:!1});case 8:return u=e.sent,t&&(d.style.display="",a?(i=t,(s=a).parentNode.insertBefore(i,s.nextSibling)):r&&r.appendChild(t)),e.abrupt("return",u);case 11:case"end":return e.stop()}var i,s}),e)})));return function(n){return e.apply(this,arguments)}}(),b=function(){var e=(0,r.Z)(i().mark((function e(n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=n||document.body,E(n);case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),x=function(e,n){return new Promise((function(t){setTimeout((function(){e(),t(!0)}),n)}))},k=function(){var e=(0,r.Z)(i().mark((function e(n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return window.addEventListener("DOMMouseScroll",s,!1),window.addEventListener(w,s,h),window.addEventListener("touchmove",s,h),window.addEventListener("keydown",l,!1),window.scroll(0,0),document.body.classList.add("topdf"),n.style.width="".concat(o,"px"),L((function(e){e.style.width="".concat(o,"px")})),window.dispatchEvent(new Event("resize")),e.next=8,x((function(){n.style.height="".concat(n.scrollHeight,"px"),n.style.width="".concat(n.scrollWidth,"px")}),500);case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),E=function(e){window.removeEventListener("DOMMouseScroll",s,!1),window.removeEventListener(w,s,h),window.removeEventListener("touchmove",s,h),window.removeEventListener("keydown",l,!1),L((function(e){e.style.width=""})),e.style.height="",e.style.width="",document.body.classList.remove("topdf"),window.dispatchEvent(new Event("resize"))},L=function(e){for(var n=0;n<m.length;n++){var t=m[n],r=document.querySelector(t);r&&e(r)}},S=function(){for(var e=0;e<g.length;e++){var n=g[e],t=document.querySelector(n);t&&t.setAttribute("data-html2canvas-ignore","")}},P=function(e){return e.width>e.height?"l":"p"},C=function(e,n,t,r,o){var i=e.width,a=e.height,c="l"===n?t:0,d="p"===n?t:0;c||(c=i*t/a),d||(d=a*t/i);var u=c>=d?c:d,s=c<d?c:d;if(s>r){var l=r/s;s=r,o||(u*=l)}if(u>t){var p=t/u;u=t,s*=p}return"l"===n?(c=u,d=s):(c=s,d=u),{width:c,height:d}};function M(e){var n=new Image;n.src=f.Z;e.addImage(n,"png",e.internal.pageSize.width-15-30,7.5,30,5730/1243)}return{downloadMany:function(){var e=(0,r.Z)(i().mark((function e(){var r,o,c,s,l,h,w,f,g,m,x,k,E,L,S,P,Z,D,O=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=O.length>0&&void 0!==O[0]?O[0]:".topdfPage",o=O.length>1&&void 0!==O[1]?O[1]:"l",c=O.length>2?O[2]:void 0,s=O.length>3?O[3]:void 0,l=document.querySelectorAll(r),h="a4",w=new d.kH(o,"mm",h),f=a,g=u,m=p,"l"===o?(g=g-m-p,f-=30):(f=f-m-p,g-=30),n({type:v.p6,payload:l.length}),x=0;case 13:if(!(x<l.length)){e.next=27;break}return k=l[x],n({type:v._M,payload:x}),e.next=18,y(k);case 18:E=e.sent,L=C(E,o,f,g,s),S=L.width,P=L.height,Z=c?p+("l"===o?(f-S)/2:(g-S)/2):p,w.addImage(E.toDataURL("image/jpeg"),"JPG",Z,m,S,P,"","FAST"),M(w),x<l.length-1&&w.addPage(h,o);case 24:x++,e.next=13;break;case 27:for(D=0;D<l.length;D++)b(l[D]);return e.next=30,w.save((t||"sample-file")+".pdf",{returnPromise:!0});case 30:return e.abrupt("return",e.sent);case 31:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),download:function(){var e=(0,r.Z)(i().mark((function e(){var n,r,o,c,s,l,h,w,f,v,g,m,x,k=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=k.length>0&&void 0!==k[0]?k[0]:"l",r=k.length>1?k[1]:void 0,o=k.length>2?k[2]:void 0,c=k.length>3?k[3]:void 0,e.next=6,y();case 6:return s=e.sent,n=n||P(s),l=new d.kH(n,"mm","a4"),h=a,w=u,"l"===n?(w-=30,h-=30):(h-=30,w-=30),f=C(s,n,h,w,c),v=f.width,g=f.height,m=r?p+("l"===n?(h-v)/2:(w-v)/2):p,x=o?p+("l"===n?(w-g)/2:(h-g)/2):p,l.addImage(s.toDataURL("image/jpeg"),"JPG",m,x,v,g,"","FAST"),M(l),b(),e.next=20,l.save((t||"sample-file")+".pdf",{returnPromise:!0});case 20:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}}}}]);