/*! For license information please see 376.min.80ef4851b955255739b4.js.LICENSE.txt */
/*!
 * Core v1.2.9 (https://contexta360.com/)
 * Copyright (c) 2020-2021 Contexta B.V.
 * @license ISC (Last change on: 03/08/2021 01:32:28)
 *
 * Frontend developed by kuus <kunderikuus@gmail.com> (https://kuus.github.io)
 */
(self.webpackChunk_contexta360_core=self.webpackChunk_contexta360_core||[]).push([[376],{53550:(t,e,n)=>{"use strict";n.r(e),n.d(e,{ToPdf:()=>s});var r=n(56470),o=n(77162),a=n.n(o),i=n(25176),c=n.n(i),u=n(73856),s=function(t){var e=t.idealWidth,n=t.headline,o=t.filename,i=e?"string"==typeof e?parseInt(e,10):e:1920,s="topdfLoader",d=["appheader","breadcrumbs","panel-sticky-top","topdf-btn"],f=["body","panel-grid"],l=function(){var t=(0,r.Z)(a().mark((function t(e){var n;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=e||document.body,g(),w(),t.next=5,h(e);case 5:return t.next=7,c()(e,{useCORS:!0,onclone:y,allowTaint:!0,foreignObjectRendering:!0});case 7:return n=t.sent,m(e),b(),t.abrupt("return",n);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),p=function(t,e){return new Promise((function(n){setTimeout((function(){t(),n(!0)}),e)}))},h=function(){var t=(0,r.Z)(a().mark((function t(e){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return document.body.classList.add("topdf"),v((function(t){t.style.width="".concat(i,"px")})),window.dispatchEvent(new Event("resize")),t.next=5,p((function(){e.style.height="".concat(e.scrollHeight,"px"),e.style.width="".concat(e.scrollWidth,"px")}),500);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),m=function(t){v((function(t){t.style.width=""})),t.style.height="",t.style.width="",document.body.classList.remove("topdf"),window.dispatchEvent(new Event("resize"))},v=function(t){for(var e=0;e<f.length;e++){var n=f[e],r=document.querySelector(n);r&&t(r)}},w=function(){for(var t=0;t<d.length;t++){var e=d[t],n=document.querySelector(e);n&&n.setAttribute("data-html2canvas-ignore","")}},y=function(t,e){},g=function(){var t=document.getElementById(s);t||(t.id=s,t=document.createElement("div")),t.className="is-in",document.body.appendChild(t)},b=function(){var t=document.getElementById(s);t&&(t.className="")},x=function(t){return t.width>t.height?"l":"p"},k=function(t,e,n,r){var o=t.width,a=t.height,i="l"===e?n:0,c="p"===e?n:0;i||(i=o*n/a),c||(c=a*n/o);var u=i>=c?i:c,s=i<c?i:c;if(s>r){var d=100*(s-r)/s;s=r,u-=u*d/100}return"l"===e?(i=u,c=s):(i=s,c=u),{width:i,height:c}};return{download:function(){var t=(0,r.Z)(a().mark((function t(){var e,r,i,c,s,d,f,p,h,m;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l();case 2:e=t.sent,r=x(e),i=new u.kH(r,"mm","a4"),c=297,s=211,d=10,n&&(i.setFontSize(10),i.text(n,10,d),d=10/6+d,"l"===r?(s=s-d-10,c=c):(c=c-d-10,s=s)),f=k(e,r,c,s),p=f.width,h=f.height,m="l"===r?(c-p)/2:(s-p)/2,i.addImage(e.toDataURL("image/jpeg"),"JPG",m,d,p,h),i.save((o||"sample-file")+".pdf");case 13:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()}}}}]);