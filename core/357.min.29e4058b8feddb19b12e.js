/*! For license information please see 357.min.29e4058b8feddb19b12e.js.LICENSE.txt */
/*!
 * Core v1.3.0-alpha (https://contexta360.com/)
 * Copyright (c) 2020-2021 Contexta B.V.
 * @license ISC (Last change on: 25/10/2021 15:55:10)
 *
 * Frontend developed by kuus <kunderikuus@gmail.com> (https://kuus.github.io)
 */
(self.webpackChunk_contexta360_core=self.webpackChunk_contexta360_core||[]).push([[357],{12357:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ToPdf:()=>I});var r=n(51119),o=n(56470),a=n(77162),i=n.n(a),c=n(31763),s=n.n(c),u=n(11499);function d(e,t){t.parentNode.insertBefore(e,t.nextSibling)}var l={37:1,38:1,39:1,40:1},p=function(e){e.preventDefault()},f=function(e){if(l[e.keyCode])return p(e),!1},h=!1;try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){h=!0}}))}catch(e){}var v=!!h&&{passive:!1},w="onwheel"in document.createElement("div")?"wheel":"mousewheel",y=n(75061),g=n(35958);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var x=1920,O=15,k="a4",E=["appheader","breadcrumbs","panel-sticky-top","topdf-btn"],P=document.getElementsByTagName("html")[0],j=function(){document.body.style.fontFamily="Roboto",window.scroll(0,0),window.addEventListener("DOMMouseScroll",p,!1),window.addEventListener(w,p,v),window.addEventListener("touchmove",p,v),window.addEventListener("keydown",f,!1),document.body.style.width="".concat(x,"px"),P.classList.add("topdf"),S(),window.dispatchEvent(new Event("resize"))},L=function(){window.removeEventListener("DOMMouseScroll",p,!1),window.removeEventListener(w,p,v),window.removeEventListener("touchmove",p,v),window.removeEventListener("keydown",f,!1),document.body.style.width="",P.classList.remove("topdf"),window.dispatchEvent(new Event("resize"))},S=function(){for(var e=0;e<E.length;e++){var t=E[e],n=document.querySelector(t);n&&n.setAttribute("data-html2canvas-ignore","")}},D=function(e){e.style.width="".concat(x,"px")},C=function(e){e.style.width=""},M=function(e,t){var n=e.width,r=e.height;return t||n>r?"l":"p"},Z=function(e){var t=297,n=211;return"l"===e?(n-=30,t-=30):(t-=30,n-=30),{longest:t,shortest:n}},_=function(e,t,n,r,o,a,i){var c=e.width,s=e.height,u="l"===t?n:0,d="p"===t?n:0;u||(u=c*n/s),d||(d=s*n/c);var l=u>=d?u:d,p=u<d?u:d;if(p>r){var f=r/p;p=r,i||(l*=f)}if(l>n){var h=n/l;l=n,p*=h}return"l"===t?(u=l,d=p):(u=p,d=l),{width:u,height:d,x:o?O+("l"===t?(n-u)/2:(r-u)/2):O,y:a?O+("l"===t?(r-d)/2:(n-d)/2):O}},q=function(){var e=(0,o.Z)(i().mark((function e(t){var n,r,o,a,c,u,l,p=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=p.length>1&&void 0!==p[1]?p[1]:{},c=document.querySelector(".panelBody"),t&&(c.style.display="none",o=t.parentNode,a=t.previousElementSibling,r=document.body.appendChild(t)),t=t||document.body,u=performance.now(),D(t),e.next=8,s()(document.body,b({logging:!1,scale:1,useCORS:!0,windowWidth:x},n));case 8:return l=e.sent,C(t),console.log("html to canvas took ".concat(performance.now()-u)),r&&(c.style.display="",a?d(r,a):o&&o.appendChild(r)),e.abrupt("return",l);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z=function(e,t,n,r,o,a){e.addImage(t.toDataURL("image/jpeg"),"JPG",n,r,o,a,"","FAST"),A(e)},A=function(e){var t=new Image;t.src=y.Z;e.addImage(t,"png",e.internal.pageSize.width-15-30,7.5,30,5730/1243)},B=function(){var e=(0,o.Z)(i().mark((function e(t,n){var r=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=6;break}t.setProperties({title:n,author:"Contexta360"}),t.output("dataurlnewwindow"),e.next=7;break;case 6:return e.abrupt("return",t.save((n||"sample-file")+".pdf",{returnPromise:!0}));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),I=function(e,t){var n=e.filename;return{downloadMany:function(){var e=(0,o.Z)(i().mark((function e(){var r,o,a,c,s,d,l,p,f,h,v,w,y,m,b,x,O,E,P=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=P.length>0&&void 0!==P[0]?P[0]:".topdfPage",o=P.length>1&&void 0!==P[1]?P[1]:"l",a=P.length>2?P[2]:void 0,c=P.length>3?P[3]:void 0,s=P.length>4?P[4]:void 0,d=document.querySelectorAll(r),t({type:g.p6,payload:d.length}),l=new u.kH(o,"mm",k),p=Z(o),f=p.longest,h=p.shortest,j(),v=0;case 11:if(!(v<d.length)){e.next=23;break}return w=d[v],t({type:g._M,payload:v}),e.next=16,q(w);case 16:y=e.sent,m=_(y,o,f,h,a,c,s),b=m.width,x=m.height,O=m.x,E=m.y,z(l,y,O,E,b,x),v<d.length-1&&l.addPage(k,o);case 20:v++,e.next=11;break;case 23:return L(),e.next=26,B(l,n);case 26:return e.abrupt("return",e.sent);case 27:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),download:function(){var e=(0,o.Z)(i().mark((function e(){var t,r,o,a,c,s,d,l,p,f,h,v,w,y,g,m=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=m.length>0&&void 0!==m[0]?m[0]:"l",r=m.length>1?m[1]:void 0,o=m.length>2?m[2]:void 0,a=m.length>3?m[3]:void 0,j(),e.next=7,q();case 7:return c=e.sent,s=M(c,t),d=new u.kH(s,"mm","a4"),l=Z(s),p=l.longest,f=l.shortest,h=_(c,s,p,f,r,o,a),v=h.width,w=h.height,y=h.x,g=h.y,z(d,c,y,g,v,w),L(),e.next=16,B(d,n);case 16:return e.abrupt("return",e.sent);case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}}}}]);