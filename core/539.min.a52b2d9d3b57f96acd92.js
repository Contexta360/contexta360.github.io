/*! For license information please see 539.min.a52b2d9d3b57f96acd92.js.LICENSE.txt */
/*!
 * Core v1.2.9 (https://contexta360.com/)
 * Copyright (c) 2020-2021 Contexta B.V.
 * @license ISC (Last change on: 22/09/2021 08:55:43)
 *
 * Frontend developed by kuus <kunderikuus@gmail.com> (https://kuus.github.io)
 */
(self.webpackChunk_contexta360_core=self.webpackChunk_contexta360_core||[]).push([[539],{22539:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ToPdf:()=>y});var r=n(56470),o=n(77162),i=n.n(o),a=n(25176),c=n.n(a),d=n(73856);var u={37:1,38:1,39:1,40:1},s=function(e){e.preventDefault()},l=function(e){if(u[e.keyCode])return s(e),!1},p=!1;try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){p=!0}}))}catch(e){}var f=!!p&&{passive:!1},h="onwheel"in document.createElement("div")?"wheel":"mousewheel",w=n(75061),v=n(35958),m=n(82038),y=function(e,t){var n=e.idealWidth,o=e.headline,a=e.filename,u=n?"string"==typeof n?parseInt(n,10):n:1920,p=15,y=["appheader","breadcrumbs","panel-sticky-top","topdf-btn"],g=["body","panel-grid"],b=function(){var e=(0,r.Z)(i().mark((function e(t){var n,r,o,a,d;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=document.querySelector(".panelBody"),t&&(a.style.display="none",r=t.parentNode,o=t.previousElementSibling,n=document.body.appendChild(t)),t=t||document.body,P(),e.next=6,E(t);case 6:return e.next=8,c()(document.body,{scale:2,useCORS:!0,onclone:C,allowTaint:!0,foreignObjectRendering:!0,windowWidth:1920,windowHeight:860});case 8:return d=e.sent,n&&(a.style.display="",o?(i=n,(u=o).parentNode.insertBefore(i,u.nextSibling)):r&&r.appendChild(n)),e.abrupt("return",d);case 11:case"end":return e.stop()}var i,u}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=(0,r.Z)(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=t||document.body,L(t),(0,m.G)();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(e,t){return new Promise((function(n){setTimeout((function(){e(),n(!0)}),t)}))},E=function(){var e=(0,r.Z)(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return window.addEventListener("DOMMouseScroll",s,!1),window.addEventListener(h,s,f),window.addEventListener("touchmove",s,f),window.addEventListener("keydown",l,!1),window.scroll(0,0),document.body.classList.add("topdf"),t.style.width="".concat(u,"px"),S((function(e){e.style.width="".concat(u,"px")})),window.dispatchEvent(new Event("resize")),e.next=8,k((function(){t.style.height="".concat(t.scrollHeight,"px"),t.style.width="".concat(t.scrollWidth,"px")}),500);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(e){window.removeEventListener("DOMMouseScroll",s,!1),window.removeEventListener(h,s,f),window.removeEventListener("touchmove",s,f),window.removeEventListener("keydown",l,!1),S((function(e){e.style.width=""})),e.style.height="",e.style.width="",document.body.classList.remove("topdf"),window.dispatchEvent(new Event("resize"))},S=function(e){for(var t=0;t<g.length;t++){var n=g[t],r=document.querySelector(n);r&&e(r)}},P=function(){for(var e=0;e<y.length;e++){var t=y[e],n=document.querySelector(t);n&&n.setAttribute("data-html2canvas-ignore","")}},C=function(e,t){},M=function(e){return e.width>e.height?"l":"p"},Z=function(e,t,n,r,o){var i=e.width,a=e.height,c="l"===t?n:0,d="p"===t?n:0;c||(c=i*n/a),d||(d=a*n/i);var u=c>=d?c:d,s=c<d?c:d;if(s>r){var l=r/s;s=r,o||(u*=l)}if(u>n){var p=n/u;u=n,s*=p}return"l"===t?(c=u,d=s):(c=s,d=u),{width:c,height:d}};function D(e){var t=new Image;t.src=w.Z;e.addImage(t,"png",e.internal.pageSize.width-15-30,7.5,30,5730/1243)}return{downloadMany:function(){var e=(0,r.Z)(i().mark((function e(){var n,r,o,c,u,s,l,f,h,w,y,g,k,E,L,S,P,C,M=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=M.length>0&&void 0!==M[0]?M[0]:".topdfPage",r=M.length>1&&void 0!==M[1]?M[1]:"l",o=M.length>2?M[2]:void 0,c=M.length>3?M[3]:void 0,t({type:v.Tf}),(0,m.V)(),u=document.querySelectorAll(n),s="a4",l=new d.kH(r,"mm",s),f=297,h=211,w=p,"l"===r?(h=h-w-p,f-=30):(f=f-w-p,h-=30),t({type:v.p6,payload:u.length}),y=0;case 15:if(!(y<u.length)){e.next=29;break}return g=u[y],t({type:v._M,payload:y}),e.next=20,b(g);case 20:k=e.sent,E=Z(k,r,f,h,c),L=E.width,S=E.height,P=o?p+("l"===r?(f-L)/2:(h-L)/2):p,l.addImage(k.toDataURL("image/jpeg"),"JPG",P,w,L,S),D(l),y<u.length-1&&l.addPage(s,r);case 26:y++,e.next=15;break;case 29:for(C=0;C<u.length;C++)x(u[C]);return e.next=32,l.save((a||"sample-file")+".pdf",{returnPromise:!0});case 32:return e.abrupt("return",e.sent);case 33:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),download:function(){var e=(0,r.Z)(i().mark((function e(){var t,n,r,c,u,s,l,f,h,w;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,m.V)(),e.next=3,b();case 3:return t=e.sent,n=M(t),r=new d.kH(n,"mm","a4"),c=297,u=211,s=p,o&&(r.setFontSize(10),r.text(o,p,s),s=10/6+s,"l"===n?(u=u-s-p,c=c):(c=c-s-p,u=u)),l=Z(t,n,c,u),f=l.width,h=l.height,w="l"===n?(c-f)/2:(u-f)/2,r.addImage(t.toDataURL("image/jpeg"),"JPG",w,s,f,h),D(r),x(),e.next=17,r.save((a||"sample-file")+".pdf",{returnPromise:!0});case 17:return e.abrupt("return",e.sent);case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}}}}]);