/*! For license information please see 655.min.c07f9d898043bad3122b.js.LICENSE.txt */
/*!
 * Core v2.0.2-next (https://contexta360.com/)
 * Copyright (c) 2020-2022 Contexta B.V.
 * @license ISC (Last change on: 23/03/2022 19:08:59)
 *
 * Frontend developed by kuus <kunderikuus@gmail.com> (https://kuus.github.io)
 */
(self.webpackChunk_contexta360_core=self.webpackChunk_contexta360_core||[]).push([[655],{76655:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ToPdf:()=>N});var r=n(51119),o=n(56470),i=n(77162),a=n.n(i),c=n(31763),s=n.n(c),u=n(11499),d=n(2745),l=n(79215),p={37:1,38:1,39:1,40:1},f=function(e){e.preventDefault()},v=function(e){if(p[e.keyCode])return f(e),!1},w=!1;try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){w=!0}}))}catch(e){}var h=!!w&&{passive:!1},m="onwheel"in document.createElement("div")?"wheel":"mousewheel",y=n(35958);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var x,P=1920,k=15,O="a4",E=["appheader","breadcrumbs","panel-sticky-top","topdf-btn"],j=document.getElementsByTagName("html")[0];function L(){x=document.body.style.cssText,window.scroll(0,0),window.addEventListener("DOMMouseScroll",f,!1),window.addEventListener(m,f,h),window.addEventListener("touchmove",f,h),window.addEventListener("keydown",v,!1),document.body.style.cssText='font-family: "Roboto"; width: '.concat(P,"px"),j.classList.add("topdf"),function(){for(var e=0;e<E.length;e++){var t=E[e],n=document.querySelector(t);n&&n.setAttribute("data-html2canvas-ignore","")}}(),window.dispatchEvent(new Event("resize"))}function S(){window.removeEventListener("DOMMouseScroll",f,!1),window.removeEventListener(m,f,h),window.removeEventListener("touchmove",f,h),window.removeEventListener("keydown",v,!1),document.body.style.cssText=x,j.classList.remove("topdf"),window.dispatchEvent(new Event("resize"))}function D(e,t){var n=e.width,r=e.height;return t||n>r?"l":"p"}function C(e){var t=297,n=211;return"l"===e?(n-=30,t-=30):(t-=30,n-=30),{longest:t,shortest:n}}function M(e,t,n,r,o,i,a){var c=e.width,s=e.height,u="l"===t?n:0,d="p"===t?n:0;u||(u=c*n/s),d||(d=s*n/c);var l=u>=d?u:d,p=u<d?u:d;if(p>r){var f=r/p;p=r,a||(l*=f)}if(l>n){var v=n/l;l=n,p*=v}return"l"===t?(u=l,d=p):(u=p,d=l),{width:u,height:d,x:o?k+("l"===t?(n-u)/2:(r-u)/2):k,y:i?k+("l"===t?(r-d)/2:(n-d)/2):k}}function T(e){var t,n,r,o;e=e;return{elementPre:function(){o=document.querySelector(".panelBody"),e&&(o.style.display="none",n=e.parentNode,r=e.previousElementSibling,t=document.body.appendChild(e)),(e=e||document.body).style.width="".concat(P,"px")},elementPost:function(){e.style.width="",t&&(o.style.display="",r?(0,l.BE)(t,r):n&&n.appendChild(t))}}}function Z(){return q.apply(this,arguments)}function q(){return(q=(0,o.Z)(a().mark((function e(){var t,n,r,o=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:{},n=performance.now(),e.next=4,s()(document.body,b({logging:!1,scale:1,useCORS:!0,windowWidth:P},t));case 4:return r=e.sent,console.log("html to canvas took ".concat(performance.now()-n)),e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(e,t,n,r,o,i){e.addImage(t.toDataURL("image/jpeg"),"JPG",n,r,o,i,"","FAST")}function A(e,t){return B.apply(this,arguments)}function B(){return(B=(0,o.Z)(a().mark((function e(t,n){var r=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=6;break}t.setProperties({title:n,author:"Contexta360"}),t.output("dataurlnewwindow"),e.next=7;break;case 6:return e.abrupt("return",t.save((n||"sample-file")+".pdf",{returnPromise:!0}));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(e,t){var n=e.filename;return{downloadMany:function(){var e=(0,o.Z)(a().mark((function e(){var r,o,i,c,s,d,l,p,f,v,w,h,m,g,b,x,P,k,E,j,D,q=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=q.length>0&&void 0!==q[0]?q[0]:".topdfPage",o=q.length>1&&void 0!==q[1]?q[1]:"l",i=q.length>2?q[2]:void 0,c=q.length>3?q[3]:void 0,s=q.length>4?q[4]:void 0,d=document.querySelectorAll(r),t({type:y.p6,payload:d.length}),l=new u.kH(o,"mm",O),p=C(o),f=p.longest,v=p.shortest,L(),w=0;case 11:if(!(w<d.length)){e.next=26;break}return h=d[w],m=T(h),g=m.elementPre,b=m.elementPost,t({type:y._M,payload:w}),g(),e.next=18,Z();case 18:x=e.sent,b(),P=M(x,o,f,v,i,c,s),k=P.width,E=P.height,j=P.x,D=P.y,_(l,x,j,D,k,E),w<d.length-1&&l.addPage(O,o);case 23:w++,e.next=11;break;case 26:return S(),e.next=29,A(l,n);case 29:return e.abrupt("return",e.sent);case 30:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),download:function(){var e=(0,o.Z)(a().mark((function e(){var t,r,o,i,c,s,d,l,p,f,v,w,h,m,y,g,b,x,P,k,O=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=O.length>0&&void 0!==O[0]?O[0]:"",r=O.length>1&&void 0!==O[1]?O[1]:"l",o=O.length>2?O[2]:void 0,i=O.length>3?O[3]:void 0,c=O.length>4?O[4]:void 0,L(),s=t?document.querySelector(t):void 0,d=T(s),l=d.elementPre,p=d.elementPost,l(),e.next=11,Z();case 11:return f=e.sent,p(),v=D(f,r),w=new u.kH(v,"mm","a4"),h=C(v),m=h.longest,y=h.shortest,g=M(f,v,m,y,o,i,c),b=g.width,x=g.height,P=g.x,k=g.y,_(w,f,P,k,b,x),S(),e.next=21,A(w,n);case 21:return e.abrupt("return",e.sent);case 22:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),print:function(){var e=(0,o.Z)(a().mark((function e(){var r,o,i,c,s,u,l,p,f=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=f.length>0&&void 0!==f[0]?f[0]:"",o=(0,d.N5)(),i=document.title,c=r?document.querySelector(r):void 0,s=T(c),u=s.elementPre,l=s.elementPost,p=function(){l(),S(),t({type:y.Vy}),document.title=i,window.onafterprint=null,o.resolve()},window.onafterprint=p,L(),u(),n&&(document.title=n),window.print(),e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}}}}]);