/*!
 * Contexta360 Core v4.1.1 (https://contexta360.com)
 * Copyright (c) 2020-2025 Contexta B.V.
 * @license ISC (Last change on: 22/01/2025 16:00:55)
 *
 * Frontend developed by kuus <kunderikuus@gmail.com> (https://kuus.github.io)
 */
"use strict";(self.webpackChunk_c360_core_legacy=self.webpackChunk_c360_core_legacy||[]).push([[429],{429:(e,t,n)=>{n.r(t),n.d(t,{ToPdf:()=>J});var r=n(88102),o=n(15934),i=n(69839),a=n.n(i),c=n(53440),u=n.n(c),s=n(20422),d=n(63998),l=n(68773),p={37:1,38:1,39:1,40:1},f=function(e){e.preventDefault()},h=function(e){p[e.keyCode]&&f(e)},v=!1;try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){v=!0}}))}catch(e){}var w=!!v&&{passive:!1},m="onwheel"in document.createElement("div")?"wheel":"mousewheel",y=function(){window.addEventListener("DOMMouseScroll",f,!1),window.addEventListener(m,f,w),window.addEventListener("touchmove",f,w),window.addEventListener("keydown",h,!1)},g=function(){window.removeEventListener("DOMMouseScroll",f,!1),window.removeEventListener(m,f,w),window.removeEventListener("touchmove",f,w),window.removeEventListener("keydown",h,!1)},b=n(59579),P=n(10814);function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var E,k="toprint-css",j=1920,L=297,S=211,A=15,D="a4",C=["app-bar","breadcrumbs","panel-sticky-top","topdf-btn"],T=document.getElementsByTagName("html")[0];function _(e){return"".concat(e-2*A,"mm !important")}function q(e){E=document.body.style.cssText,window.scroll(0,0),(0,P.l1)(k,"\n    @media print {\n      @page {\n        margin: 0mm;\n        size: ".concat("p"===e?"portrait":"landscape",";\n      }\n    \n      html { margin: ").concat(A,"mm !important; }\n      body {\n        width: ").concat(_("p"===e?S:L),";\n      }\n      .topdfPage {\n        width: ").concat(_("p"===e?S:L),";\n        height: ").concat(_("p"===e?L:S),";\n      }\n    }\n  ")),y(),document.body.style.cssText='font-family: "Roboto"; width: '.concat(j,"px"),T.classList.add("topdf"),function(){for(var e=0;e<C.length;e++){var t=C[e],n=document.querySelector(t);n&&n.setAttribute("data-html2canvas-ignore","")}}(),window.dispatchEvent(new Event("resize"))}function M(){g(),document.body.style.cssText=E,T.classList.remove("topdf"),(0,P.l1)(k,""),window.dispatchEvent(new Event("resize"))}function z(e,t){var n=e.width,r=e.height;return t||n>r?"l":"p"}function R(e){var t=L,n=S;return"l"===e?(n-=2*A,t-=2*A):(t-=2*A,n-=2*A),{longest:t,shortest:n}}function B(e,t,n,r,o,i,a){var c=e.width,u=e.height,s="l"===t?n:0,d="p"===t?n:0;s||(s=c*n/u),d||(d=u*n/c);var l=s>=d?s:d,p=s<d?s:d;if(p>r){var f=r/p;p=r,a||(l*=f)}if(l>n){var h=n/l;l=n,p*=h}return"l"===t?(s=l,d=p):(s=p,d=l),{width:s,height:d,x:o?A+("l"===t?(n-s)/2:(r-s)/2):A,y:i?A+("l"===t?(r-d)/2:(n-d)/2):A}}function N(e){var t,n,r,o;return{elementPre:function(){o=document.querySelector(".panelBody"),e&&(o.style.display="none",n=e.parentNode,r=e.previousElementSibling,t=document.body.appendChild(e)),(e=e||document.body).style.width="".concat(j,"px")},elementPost:function(){e.style.width="",t&&(o.style.display="",r?(0,l.WH)(t,r):n&&n.appendChild(t))}}}function W(){return F.apply(this,arguments)}function F(){return F=(0,o.A)(a().mark((function e(){var t,n,r,o=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:{},n=performance.now(),e.next=4,u()(document.body,O({logging:!1,scale:1,useCORS:!0,windowWidth:j},t));case 4:return r=e.sent,console.log("html to canvas took ".concat(performance.now()-n)),e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)}))),F.apply(this,arguments)}function G(e,t,n,r,o,i){e.addImage(t.toDataURL("image/jpeg"),"JPG",n,r,o,i,"","FAST")}function H(e,t){return I.apply(this,arguments)}function I(){return I=(0,o.A)(a().mark((function e(t,n){var r=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=6;break}t.setProperties({title:n,author:"Contexta360"}),t.output("dataurlnewwindow"),e.next=7;break;case 6:return e.abrupt("return",t.save((n||"sample-file")+".pdf",{returnPromise:!0}));case 7:case"end":return e.stop()}}),e)}))),I.apply(this,arguments)}function J(e,t){var n=e.filename,r=e.orientation,i=void 0===r?"l":r,c=function(){var e=(0,o.A)(a().mark((function e(){var r,o,c,u,d,l,p,f,h,v,w,m,y,g,P,x,O,E,k,j,L,S=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=S.length>0&&void 0!==S[0]?S[0]:".topdfPage",o=S.length>1&&void 0!==S[1]?S[1]:i,c=S.length>2?S[2]:void 0,u=S.length>3?S[3]:void 0,d=S.length>4?S[4]:void 0,l=document.querySelectorAll(r),t({type:b.yL,payload:l.length}),p=new s.uE(o,"mm",D),f=R(o),h=f.longest,v=f.shortest,q(o),w=0;case 11:if(!(w<l.length)){e.next=26;break}return m=l[w],y=N(m),g=y.elementPre,P=y.elementPost,t({type:b.bT,payload:w}),g(),e.next=18,W();case 18:x=e.sent,P(),O=B(x,o,h,v,c,u,d),E=O.width,k=O.height,j=O.x,L=O.y,G(p,x,j,L,E,k),w<l.length-1&&p.addPage(D,o);case 23:w++,e.next=11;break;case 26:return M(),e.next=29,H(p,n);case 29:return e.abrupt("return",e.sent);case 30:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),u=function(){var e=(0,o.A)(a().mark((function e(){var t,r,o,i,c,u,d,l,p,f,h,v,w,m,y,g,b,P,x,O,E=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=E.length>0&&void 0!==E[0]?E[0]:"",o=E.length>2?E[2]:void 0,i=E.length>3?E[3]:void 0,c=E.length>4?E[4]:void 0,q(r=E.length>1&&void 0!==E[1]?E[1]:"l"),u=t?document.querySelector(t):void 0,d=N(u),l=d.elementPre,p=d.elementPost,l(),e.next=11,W();case 11:return f=e.sent,p(),h=z(f,r),v=new s.uE(h,"mm","a4"),w=R(h),m=w.longest,y=w.shortest,g=B(f,h,m,y,o,i,c),b=g.width,P=g.height,x=g.x,O=g.y,G(v,f,x,O,b,P),M(),e.next=21,H(v,n);case 21:return e.abrupt("return",e.sent);case 22:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=(0,o.A)(a().mark((function e(){var r,o,i,c,u,s,l,p,f,h=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=h.length>0&&void 0!==h[0]?h[0]:"",o=h.length>1&&void 0!==h[1]?h[1]:"l",i=(0,d.l)(),c=document.title,u=r?document.querySelector(r):void 0,s=N(u),l=s.elementPre,p=s.elementPost,f=function(){p(),M(),t({type:b.gD}),document.title=c,window.onafterprint=null,i.resolve()},window.onafterprint=f,q(o),l(),n&&(document.title=n),window.print(),e.abrupt("return",i);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{downloadMany:c,download:u,print:l}}}}]);