/*! For license information please see 590.min.a81eb5a798a68bb72d0c.js.LICENSE.txt */
/*!
 * Core v1.2.9 (https://contexta360.com/)
 * Copyright (c) 2020-2021 Contexta B.V.
 * @license ISC (Last change on: 10/08/2021 13:09:27)
 *
 * Frontend developed by kuus <kunderikuus@gmail.com> (https://kuus.github.io)
 */
(self.webpackChunk_contexta360_core=self.webpackChunk_contexta360_core||[]).push([[590],{24590:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ToPdf:()=>h});var r=n(56470),o=n(77162),i=n.n(o),c=n(25176),a=n.n(c),d=n(73856),s={37:1,38:1,39:1,40:1},u=function(e){e.preventDefault()},l=function(e){if(s[e.keyCode])return u(e),!1},f=!1;try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){f=!0}}))}catch(e){}var w=!!f&&{passive:!1},v="onwheel"in document.createElement("div")?"wheel":"mousewheel",h=function(e){var t=e.idealWidth,n=e.headline,o=e.filename,c=t?"string"==typeof t?parseInt(t,10):t:1920,s="topdfLoader",f=["appheader","breadcrumbs","panel-sticky-top","topdf-btn"],h=["body","panel-grid"],p=function(){var e=(0,r.Z)(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=t||document.body,L(),b(),e.next=5,y(t);case 5:return e.next=7,a()(t,{scale:2,useCORS:!0,onclone:x,allowTaint:!0,foreignObjectRendering:!0});case 7:return n=e.sent,g(t),k(),e.abrupt("return",n);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(e,t){return new Promise((function(n){setTimeout((function(){e(),n(!0)}),t)}))},y=function(){var e=(0,r.Z)(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return window.addEventListener("DOMMouseScroll",u,!1),window.addEventListener(v,u,w),window.addEventListener("touchmove",u,w),window.addEventListener("keydown",l,!1),window.scroll(0,0),document.body.classList.add("topdf"),E((function(e){e.style.width="".concat(c,"px")})),window.dispatchEvent(new Event("resize")),e.next=7,m((function(){t.style.height="".concat(t.scrollHeight,"px"),t.style.width="".concat(t.scrollWidth,"px")}),500);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(e){window.removeEventListener("DOMMouseScroll",u,!1),window.removeEventListener(v,u,w),window.removeEventListener("touchmove",u,w),window.removeEventListener("keydown",l,!1),E((function(e){e.style.width=""})),e.style.height="",e.style.width="",document.body.classList.remove("topdf"),window.dispatchEvent(new Event("resize"))},E=function(e){for(var t=0;t<h.length;t++){var n=h[t],r=document.querySelector(n);r&&e(r)}},b=function(){for(var e=0;e<f.length;e++){var t=f[e],n=document.querySelector(t);n&&n.setAttribute("data-html2canvas-ignore","")}},x=function(e,t){},L=function(){var e=document.getElementById(s);e||(e.id=s,e=document.createElement("div")),e.className="is-in",document.body.appendChild(e)},k=function(){var e=document.getElementById(s);e&&(e.className="")},S=function(e){return e.width>e.height?"l":"p"},C=function(e,t,n,r){var o=e.width,i=e.height,c="l"===t?n:0,a="p"===t?n:0;c||(c=o*n/i),a||(a=i*n/o);var d=c>=a?c:a,s=c<a?c:a;if(s>r){var u=100*(s-r)/s;s=r,d-=d*u/100}return"l"===t?(c=d,a=s):(c=s,a=d),{width:c,height:a}};return{download:function(){var e=(0,r.Z)(i().mark((function e(){var t,r,c,a,s,u,l,f,w,v;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p();case 2:t=e.sent,r=S(t),c=new d.kH(r,"mm","a4"),a=297,s=211,u=10,n&&(c.setFontSize(10),c.text(n,10,u),u=10/6+u,"l"===r?(s=s-u-10,a=a):(a=a-u-10,s=s)),l=C(t,r,a,s),f=l.width,w=l.height,v="l"===r?(a-f)/2:(s-f)/2,c.addImage(t.toDataURL("image/jpeg"),"JPG",v,u,f,w),c.save((o||"sample-file")+".pdf");case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}}}}]);