/*! For license information please see 590.min.88c900e2b7f487e62346.js.LICENSE.txt */
/*!
 * Core v1.2.9 (https://contexta360.com/)
 * Copyright (c) 2020-2021 Contexta B.V.
 * @license ISC (Last change on: 19/09/2021 16:32:23)
 *
 * Frontend developed by kuus <kunderikuus@gmail.com> (https://kuus.github.io)
 */
(self.webpackChunk_contexta360_core=self.webpackChunk_contexta360_core||[]).push([[590],{24590:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ToPdf:()=>h});var r=n(56470),o=n(77162),i=n.n(o),a=n(25176),c=n.n(a),d=n(73856),s={37:1,38:1,39:1,40:1},u=function(e){e.preventDefault()},l=function(e){if(s[e.keyCode])return u(e),!1},w=!1;try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){w=!0}}))}catch(e){}var f=!!w&&{passive:!1},p="onwheel"in document.createElement("div")?"wheel":"mousewheel",v=n(75061),h=function(e){var t=e.idealWidth,n=e.headline,o=e.filename,a=t?"string"==typeof t?parseInt(t,10):t:1920,s="topdfLoader",w=10,h=["appheader","breadcrumbs","panel-sticky-top","topdf-btn"],m=["body","panel-grid"],y=function(){var e=(0,r.Z)(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=t||document.body,S(),L(),e.next=5,E(t);case 5:return e.next=7,c()(t,{scale:2,useCORS:!0,onclone:k,allowTaint:!0,foreignObjectRendering:!0});case 7:return n=e.sent,b(t),I(),e.abrupt("return",n);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(e,t){return new Promise((function(n){setTimeout((function(){e(),n(!0)}),t)}))},E=function(){var e=(0,r.Z)(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return window.addEventListener("DOMMouseScroll",u,!1),window.addEventListener(p,u,f),window.addEventListener("touchmove",u,f),window.addEventListener("keydown",l,!1),window.scroll(0,0),document.body.classList.add("topdf"),x((function(e){e.style.width="".concat(a,"px")})),window.dispatchEvent(new Event("resize")),e.next=7,g((function(){t.style.height="".concat(t.scrollHeight,"px"),t.style.width="".concat(t.scrollWidth,"px")}),500);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(e){window.removeEventListener("DOMMouseScroll",u,!1),window.removeEventListener(p,u,f),window.removeEventListener("touchmove",u,f),window.removeEventListener("keydown",l,!1),x((function(e){e.style.width=""})),e.style.height="",e.style.width="",document.body.classList.remove("topdf"),window.dispatchEvent(new Event("resize"))},x=function(e){for(var t=0;t<m.length;t++){var n=m[t],r=document.querySelector(n);r&&e(r)}},L=function(){for(var e=0;e<h.length;e++){var t=h[e],n=document.querySelector(t);n&&n.setAttribute("data-html2canvas-ignore","")}},k=function(e,t){},S=function(){var e=document.getElementById(s);e||(e.id=s,e=document.createElement("div")),e.className="is-in",document.body.appendChild(e)},I=function(){var e=document.getElementById(s);e&&(e.className="")},C=function(e){return e.width>e.height?"l":"p"},O=function(e,t,n,r){var o=e.width,i=e.height,a="l"===t?n:0,c="p"===t?n:0;a||(a=o*n/i),c||(c=i*n/o);var d=a>=c?a:c,s=a<c?a:c;if(s>r){var u=100*(s-r)/s;s=r,d-=d*u/100}return"l"===t?(a=d,c=s):(a=s,c=d),{width:a,height:c}};function z(e){var t=new Image;t.src=v.Z;e.addImage(t,"png",e.internal.pageSize.width-5-30,5,30,5730/1243)}return{download:function(){var e=(0,r.Z)(i().mark((function e(){var t,r,a,c,s,u,l,f,p,v;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y();case 2:t=e.sent,r=C(t),a=new d.kH(r,"mm","a4"),c=297,s=211,u=w,n&&(a.setFontSize(10),a.text(n,w,u),u=10/6+u,"l"===r?(s=s-u-w,c=c):(c=c-u-w,s=s)),l=O(t,r,c,s),f=l.width,p=l.height,v="l"===r?(c-f)/2:(s-f)/2,a.addImage(t.toDataURL("image/jpeg"),"JPG",v,u,f,p),z(a),a.save((o||"sample-file")+".pdf");case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}}}}]);